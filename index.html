<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sentiero das Araucarias</title>
  <meta name="description" content="Trilha Ecol√≥gica" />
  <style>
    :root{
      --bg:#e9f2ee;
      --panel:#ffffffcc;
      --accent:#2b6b45;
      --muted:#6b7b74;
      --araucaria-green: #357a38;
      --araucaria-dark: #235924;
      --trunk: #a77d4c;
      --shadow: #b8d8c7;
      --accent-bright: #48a15a;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    body{background:linear-gradient(180deg,var(--bg) 0%, #dbeee0 60%, #cfe6db 100%);color:#123;overflow-x:hidden;position:relative;min-height:100vh;}

/* floating decorative shapes */
.floaters{position:fixed;inset:0;pointer-events:none;z-index:5}
.floater{position:absolute;opacity:.12;filter:blur(1px);animation:floaty 8s ease-in-out infinite alternate}
.floater.leaf{width:140px;height:140px;background:radial-gradient(circle at 30% 30%, rgba(53,122,56,0.95), rgba(35,89,36,0.85));border-radius:50% 20% 50% 20%}
.floater.circle{width:60px;height:60px;background:var(--araucaria-green);border-radius:50%}
@keyframes floaty {to { transform: translateY(-18px) rotate(6deg) }}

/* header animation */
header{position:relative;z-index:20;padding:28px 32px;display:flex;align-items:center;justify-content:space-between;transition:transform .45s ease}
.logo{width:64px;height:64px;display:grid;place-items:center;border-radius:14px;overflow:hidden;box-shadow:0 6px 20px rgba(12,30,18,0.06);transform-origin:center;animation:logoPop 1.2s ease}
@keyframes logoPop {0%{transform:scale(.85)}50%{transform:scale(1.06)}100%{transform:scale(1)}}

/* card hover + entrance reveal */
.card{background:var(--panel);padding:18px;border-radius:12px;box-shadow:0 6px 20px rgba(12,30,18,0.06);transition:transform .35s cubic-bezier(.2,.9,.2,1),box-shadow .35s;transform-origin:center}
.card:hover{transform:translateY(-8px) rotate(-1deg);box-shadow:0 18px 40px rgba(12,30,18,0.12)}
.card.reveal{opacity:1;transform:translateY(0);transition:opacity .6s,transform .6s}
.card{opacity:0;transform:translateY(18px)}

/* gallery image tilt */
.gallery img{width:100%;border-radius:10px;object-fit:cover;box-shadow:0 4px 12px rgba(0,0,0,0.1);cursor:pointer;transition:transform 0.35s,filter 0.35s}
.gallery img:hover{transform:scale(1.05) rotate(-1.5deg);filter:brightness(1.05) saturate(1.05)}

/* lightbox tweaks */
.lightbox img{max-width:90%;max-height:90%;border-radius:12px;box-shadow:0 6px 30px rgba(0,0,0,0.6);transform:translateY(-8px);transition:transform .25s}

/* button ripple */
button{position:relative;overflow:hidden}
button .ripple{position:absolute;border-radius:50%;transform:scale(0);opacity:.7;animation:ripple .6s linear;background:rgba(255,255,255,0.35)}
@keyframes ripple{to{transform:scale(6);opacity:0}}

/* confetti */
#confetti{pointer-events:none;position:fixed;inset:0;z-index:3000;overflow:hidden}
.confetti-piece{position:absolute;width:10px;height:14px;opacity:0.95;transform-origin:center;animation:confFall linear forwards}
@keyframes confFall{to{transform:translateY(120vh) rotate(520deg);opacity:0}}
/* puzzle feedback */
.piece.wrong{animation:shake .45s}
@keyframes shake{0%{transform:translateX(0)}25%{transform:translateX(-6px)}50%{transform:translateX(6px)}75%{transform:translateX(-4px)}100%{transform:translateX(0)}}

/* keep other existing styles intact */
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    body{background:linear-gradient(180deg,var(--bg) 0%, #dbeee0 60%, #cfe6db 100%);color:#123;overflow-x:hidden}

    .wrap{min-height:100vh;display:flex;flex-direction:column}
    header{position:relative;z-index:20;padding:28px 32px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;gap:14px;align-items:center}
    .logo{width:56px;height:56px;display:grid;place-items:center;border-radius:14px;overflow:hidden;}
    .logo img{width:100%;height:100%;object-fit:contain;}
    h1{font-size:18px;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    main{padding:44px 20px 80px}
    .card-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:18px;max-width:1200px;margin:0 auto}
    .card{background:var(--panel);padding:18px;border-radius:12px;box-shadow:0 6px 20px rgba(12,30,18,0.06)}
    .card h3{margin:0 0 8px 0}
    .card p{margin:0;color:var(--muted);font-size:14px;line-height:1.45}

    footer{padding:28px 20px;text-align:center;color:var(--muted);font-size:13px}

    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:20px}
    .gallery img{width:100%;border-radius:10px;object-fit:cover;box-shadow:0 4px 12px rgba(0,0,0,0.1);cursor:pointer;transition:transform 0.2s}
    .gallery img:hover{transform:scale(1.03)}

    .map-container{margin-top:20px;overflow:hidden;border-radius:12px;box-shadow:0 4px 14px rgba(0,0,0,0.1)}
    .map-container iframe{border:0;width:100%;height:400px}

    /* Lightbox */
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,0.8);display:none;align-items:center;justify-content:center;z-index:1000}
    .lightbox img{max-width:90%;max-height:90%;border-radius:12px;box-shadow:0 6px 30px rgba(0,0,0,0.6);transform:translateY(-8px);transition:transform .25s}
    .lightbox.active{display:flex}
    .lightbox-close{position:absolute;top:20px;right:30px;font-size:32px;color:#fff;cursor:pointer}

    /* Loader Arauc√°ria */
    .loader-araucaria-wrap{
      position:fixed;
      inset:0;
      background:linear-gradient(140deg, var(--bg) 60%, #dbeee0 100%);
      z-index:2000;
      display:flex;
      align-items:center;
      justify-content:center;
      transition:opacity 0.5s;
    }
    .loader-araucaria-hide {
      opacity: 0;
      pointer-events: none;
    }
    .eco-loader-araucaria{
      position:relative;
      width:120px;
      height:140px;
      display:flex;
      align-items:center;
      justify-content:center;
      animation: floatAraucaria 2.2s ease-in-out infinite alternate;
    }
    @keyframes floatAraucaria {
      to { transform: translateY(-12px) }
    }
    .araucaria-shadow {
      position:absolute;
      bottom: 0;
      left: 37px;
      width: 46px;
      height: 14px;
      background:var(--shadow);
      border-radius:50%;
      opacity:0.34;
      filter: blur(2px);
      z-index:0;
      animation: shadowPulseAraucaria 2.2s infinite alternate;
    }
    @keyframes shadowPulseAraucaria {
      0% { transform: scaleX(1) scaleY(1);}
      100% { transform: scaleX(1.09) scaleY(.92);}
    }
    .araucaria-dots{
      position:absolute;
      bottom:-32px;
      left:50%;
      transform:translateX(-50%);
      display:flex;
      gap:6px;
    }
    .araucaria-dot{
      width:10px;
      height:10px;
      background:var(--araucaria-green);
      border-radius:50%;
      opacity:.5;
      animation: dotPulseAraucaria 1.15s infinite;
    }
    .araucaria-dot:nth-child(2){animation-delay: .18s;}
    .araucaria-dot:nth-child(3){animation-delay: .36s;}
    @keyframes dotPulseAraucaria {
      0%, 100% { opacity:.5; transform:scale(1);}
      50% { opacity:1; transform:scale(1.3);}
    }
    .araucaria-sway {
      transform-origin: 50% 90%;
      animation: swayAraucaria 4s infinite alternate cubic-bezier(.5,0,.5,1);
    }
    @keyframes swayAraucaria {
      0% { transform: rotate(-3deg);}
      100% { transform: rotate(4deg);}
    }

    /* Estilos do Quebra-cabe√ßa */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.5);display:none;align-items:center;justify-content:center;z-index:1000}
    .modal.active{display:flex}
    .modal-content{background:#fff;border-radius:10px;padding:20px;max-width:1000px;width:95%;box-shadow:0 8px 40px rgba(0,0,0,0.3)}
    .modal-body{display:flex;gap:12px;flex-wrap:wrap}
    .pieces,.board{background:#f8f8f8;padding:10px;border-radius:10px}
    .pieces{width:320px;display:grid;grid-template-columns:repeat(3,1fr);gap:6px}
    .board{flex:1;display:grid;grid-template-columns:repeat(3,1fr);gap:6px}
    .piece{width:90px;height:90px;background-size:300% 300%;border-radius:6px;cursor:grab}
    .slot{width:100%;height:90px;border:2px dashed #ccc;border-radius:6px;display:flex;align-items:center;justify-content:center;background:#fff}
    .close-btn{float:right;background:#aaa;color:#fff;border:0;border-radius:50%;width:32px;height:32px;cursor:pointer}
  </style>
</head>
<body>
    <!-- floating decorative shapes -->
    <div class="floaters" aria-hidden="true">
      <div class="floater leaf" style="left:6%;top:12%;animation-delay:0s"></div>
      <div class="floater circle" style="right:10%;top:18%;animation-delay:1.6s"></div>
      <div class="floater leaf" style="left:78%;top:6%;width:100px;height:100px;animation-delay=2.4s"></div>
    </div>

    <!-- Loader Arauc√°ria -->
    <div id="loader-araucaria" class="loader-araucaria-wrap">
      <div class="eco-loader-araucaria">
        <svg class="araucaria-sway" width="80" height="120" viewBox="0 0 80 120" fill="none">
          <!-- Tronco -->
          <rect x="36" y="54" width="8" height="56" rx="4" fill="var(--trunk)" />
          <!-- Galhos principais -->
          <g stroke="var(--araucaria-dark)" stroke-width="2">
            <path d="M10 60 Q40 66 70 60" />
            <path d="M14 70 Q40 76 66 70" />
            <path d="M18 80 Q40 87 62 80" />
            <path d="M22 92 Q40 100 58 92" />
          </g>
          <!-- Tufo superior -->
          <ellipse cx="40" cy="50" rx="18" ry="8" fill="var(--araucaria-green)" />
          <!-- Tufos nos galhos -->
          <ellipse cx="15" cy="60" rx="5" ry="2.3" fill="var(--araucaria-green)" />
          <ellipse cx="40" cy="66" rx="7" ry="3" fill="var(--araucaria-green)" />
          <ellipse cx="65" cy="60" rx="5" ry="2.3" fill="var(--araucaria-green)" />
          <ellipse cx="19" cy="70" rx="4" ry="2" fill="var(--araucaria-green)" />
          <ellipse cx="40" cy="76" rx="6" ry="2.5" fill="var(--araucaria-green)" />
          <ellipse cx="61" cy="70" rx="4" ry="2" fill="var(--araucaria-green)" />
          <ellipse cx="23" cy="80" rx="3.5" ry="1.7" fill="var(--araucaria-green)" />
          <ellipse cx="40" cy="87" rx="5" ry="2" fill="var(--araucaria-green)" />
          <ellipse cx="57" cy="80" rx="3.5" ry="1.7" fill="var(--araucaria-green)" />
          <ellipse cx="27" cy="92" rx="2.5" ry="1.2" fill="var(--araucaria-green)" />
          <ellipse cx="40" cy="100" rx="4" ry="1.6" fill="var(--araucaria-green)" />
          <ellipse cx="53" cy="92" rx="2.5" ry="1.2" fill="var(--araucaria-green)" />
          <ellipse cx="40" cy="44" rx="6" ry="2.5" fill="var(--araucaria-dark)" />
        </svg>
        <div class="araucaria-shadow"></div>
        <div class="araucaria-dots">
          <div class="araucaria-dot"></div>
          <div class="araucaria-dot"></div>
          <div class="araucaria-dot"></div>
        </div>
      </div>
    </div>
    <!-- FIM Loader Arauc√°ria -->

    <div class="wrap">
      <header>
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <img src="logo.png" alt="Logo">
          </div>
          <div>
            <h1>Sentiero das Arauc√°rias</h1>
            <p class="lead">Trilha Ecol√≥gica</p>
          </div>
        </div>
      </header>

      <main id="sobre">
        <div class="card-row">
          <article class="card">
            <h3>Sobre o Projeto</h3>
            <p>O Sentiero das Arauc√°rias √© uma trilha ecol√≥gica criada para promover o conhecimento, a preserva√ß√£o e a socializa√ß√£o do saber sobre a flora da Mata Atl√¢ntica.
    Localizada nos fundos da Escola, a trilha oferece uma experi√™ncia educativa e cient√≠fica, aproximando os estudantes da natureza e da import√¢ncia da conserva√ß√£o ambiental.</p>
          </article>

          <article class="card">
            <h3>A mata Atl√¢ntica</h3>
            <p>A Mata Atl√¢ntica √© um dos biomas mais ricos e diversos do planeta, abrigando in√∫meras esp√©cies end√™micas que desempenham papel essencial no equil√≠brio ecol√≥gico.
    Apesar de sua import√¢ncia, sua cobertura original foi severamente reduzida pelo desmatamento e outras a√ß√µes humanas. Por isso, a educa√ß√£o ambiental √© essencial para sensibilizar a comunidade sobre a preserva√ß√£o da biodiversidade.</p>
          </article>

          <article class="card">
            <h3>A flora da trilha</h3>
            <p>Durante o projeto, foram estudados quatro grandes grupos de plantas ‚Äî Bri√≥fitas, Pterid√≥fitas, Gimnospermas e Angiospermas:

    Bri√≥fitas: plantas simples e pequenas, sem vasos condutores, que vivem em locais √∫midos e ajudam a manter a umidade do solo.

    Pterid√≥fitas: como as samambaias e avencas, possuem vasos condutores e se reproduzem por esporos.

    Gimnospermas: incluem as Arauc√°rias, s√≠mbolo da trilha, que produzem sementes mas n√£o frutos.

    Angiospermas: o grupo mais diverso, com flores e frutos como o feij√£o, milho e laranja, essenciais na alimenta√ß√£o e poliniza√ß√£o.</p>
          </article>

          <article class="card">
            <h3>Atividades Realizadas</h3>
            <p>Os alunos participaram de sa√≠das de campo na Trilha Ecol√≥gica Sentiero das Arauc√°rias, realizando observa√ß√µes, registros fotogr√°ficos e identifica√ß√£o das esp√©cies com aux√≠lio de aplicativos.
    As coletas foram sustent√°veis ‚Äî apenas folhas e flores ‚Äî e, em laborat√≥rio, o material foi prensado e seco, resultando na cria√ß√£o de um herb√°rio escolar com exemplares catalogados.</p>
          </article>

          <article class="card">
            <h3>Quebra Cabe√ßa</h3>
            <p>Jogo quebra-cabe√ßa</p>
            <button id="openPuzzle">Jogar Quebra-Cabe√ßa</button>
          </article>
        </div>

        <!-- Adicione o modal do quebra-cabe√ßa antes do footer -->
        <div id="puzzleModal" class="modal">
          <div class="modal-content">
            <button id="closeModal" class="close-btn">&times;</button>
            <h2>Quebra-Cabe√ßa</h2>
            <p>Arraste as pe√ßas e segure para montar a imagem.</p>
            <div class="modal-body">
              <div class="pieces" id="pieces"></div>
              <div class="board" id="board"></div>
            </div>
            <button id="shuffle">Embaralhar</button>
          </div>
        </div>

        <section class="card" style="margin-top:30px">
          <h3>Fotos</h3>
          <p>DescFotos:</p>
          <div class="gallery">
            <img src="foto1.jpg" alt="Araucaria Generica">
          </div>
        </section>
      </main>

      <footer>
      ‚ô™‚Ä±¬ø‚Ä¢vers√£o 5.1    ‚Ä±‚Ä¢¬ø‚ô™ &nbsp; | &nbsp; 2025

      </footer>
    </div>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
      <span class="lightbox-close" id="lightbox-close">&times;</span>
      <img id="lightbox-img" src="" alt="Imagem ampliada">
    </div>

    <!-- confetti container -->
    <div id="confetti" aria-hidden="true"></div>

  <script>
    // Loader hide logic
    window.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        document.getElementById('loader-araucaria').classList.add('loader-araucaria-hide');
        setTimeout(function() {
          document.getElementById('loader-araucaria').style.display = "none";
        }, 520);
      }, 1200);
    });

    // button ripple helper
    document.addEventListener('click', function(e){
      const btn = e.target.closest('button');
      if(!btn) return;
      const r = document.createElement('span');
      r.className = 'ripple';
      const rect = btn.getBoundingClientRect();
      const size = Math.max(rect.width, rect.height);
      r.style.width = r.style.height = size + 'px';
      r.style.left = (e.clientX - rect.left - size/2) + 'px';
      r.style.top = (e.clientY - rect.top - size/2) + 'px';
      btn.appendChild(r);
      setTimeout(()=> r.remove(), 700);
    }, false);

    // reveal on scroll for cards
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(en=>{
        if(en.isIntersecting) en.target.classList.add('reveal');
      });
    }, {threshold: .12});
    document.querySelectorAll('.card').forEach(c => io.observe(c));

    // Lightbox gallery
    const galleryImages = document.querySelectorAll('.gallery img');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    const lightboxClose = document.getElementById('lightbox-close');

    galleryImages.forEach(img => {
      img.addEventListener('click', () => {
        lightbox.classList.add('active');
        lightboxImg.src = img.src;
        lightboxImg.alt = img.alt;
      });
    });

    lightboxClose.addEventListener('click', () => {
      lightbox.classList.remove('active');
    });

    lightbox.addEventListener('click', (e) => {
      if(e.target === lightbox){
        lightbox.classList.remove('active');
      }
    });

    // Quebra-cabe√ßa (mantive sua l√≥gica e adicionei confete/feedback)
    const ROWS = 3, COLS = 3;
    const piecesEl = document.getElementById('pieces');
    const boardEl = document.getElementById('board');
    const modal = document.getElementById('puzzleModal');
    const openBtn = document.getElementById('openPuzzle');
    const closeBtn = document.getElementById('closeModal');
    const shuffleBtn = document.getElementById('shuffle');
    let imageUrl = 'puzzle.png'; // certifique-se que esta imagem existe na pasta

    // Verifica se a imagem existe antes de iniciar
    function checkImage(url) {
        const img = new Image();
        img.onload = function() {
            console.log('Imagem carregada com sucesso');
        };
        img.onerror = function() {
            console.error('Erro ao carregar a imagem');
            alert('Erro ao carregar a imagem do quebra-cabe√ßa. Verifique se puzzle.png existe na pasta do projeto.');
        };
        img.src = url;
    }

    function makePieces(){
        const arr = [];
        for(let r=0; r<ROWS; r++) {
            for(let c=0; c<COLS; c++) {
                arr.push({r,c,idx: r*COLS + c});
            }
        }
        return arr;
    }

    function setup(){
        piecesEl.innerHTML = '';
        boardEl.innerHTML = '';
        const arr = makePieces().sort(() => Math.random() - 0.5);

        // Cria os slots do tabuleiro
        for(let i=0; i<ROWS*COLS; i++){
            const s = document.createElement('div');
            s.className = 'slot';
            s.dataset.i = i;
            s.addEventListener('dragover', e => {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
            });
            s.addEventListener('drop', onDrop);
            boardEl.appendChild(s);
        }

        // Cria as pe√ßas
        arr.forEach(o => {
            const e = document.createElement('div');
            e.className = 'piece';
            e.draggable = true;
            e.dataset.idx = o.idx;
            e.style.backgroundImage = `url('${imageUrl}')`;
            e.style.backgroundSize = `${COLS * 100}% ${ROWS * 100}%`;
            e.style.backgroundPosition = `${(o.c/(COLS-1))*100}% ${(o.r/(ROWS-1))*100}%`;
            
            e.addEventListener('dragstart', ev => {
                ev.dataTransfer.setData('text/plain', JSON.stringify(o));
                e.classList.add('dragging');
                setTimeout(() => e.style.visibility = 'hidden', 50);
            });
            
            e.addEventListener('dragend', () => {
                e.classList.remove('dragging');
                e.style.visibility = 'visible';
            });
            
            piecesEl.appendChild(e);
        });
    }

    function onDrop(e){
        e.preventDefault();
        const data = e.dataTransfer.getData('text/plain');
        if(!data) return;
        
        const o = JSON.parse(data);
        const slot = e.currentTarget;
        
        // Se o slot j√° estiver ocupado, n√£o permite o drop
        if(slot.children.length > 0) return;
        
        const p = document.querySelector(`.piece[data-idx="${o.idx}"]`);
        if(!p) return;
        
        slot.appendChild(p);
        p.style.visibility = 'visible';
        slot.dataset.placed = o.idx;
        
        checkWin();
    }

    function checkWin(){
        const slots = [...boardEl.children];
        if(slots.some(s => !s.dataset.placed)) return;

        const ok = slots.every(s => parseInt(s.dataset.placed) === parseInt(s.dataset.i));
        if(ok){
            createConfetti();
            setTimeout(() => alert('Parab√©ns! Voc√™ completou o quebra-cabe√ßa! üéâ'), 300);
        }
    }

    // Event Listeners
    openBtn.onclick = () => {
        modal.classList.add('active');
        checkImage(imageUrl);
        setup();
    };

    closeBtn.onclick = () => modal.classList.remove('active');
    shuffleBtn.onclick = setup;
    modal.addEventListener('click', e => {
        if(e.target === modal) modal.classList.remove('active');
    });
  </script>
</body>

</html>
